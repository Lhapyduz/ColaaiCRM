{
  "meta": {
    "project": "Cola Aí Delivery and Order Management Platform",
    "date": "2026-02-10",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "\"Cola Aí\" is a comprehensive SaaS web application designed for snack bar owners to efficiently manage their orders, menu, deliveries, and cash flow, while providing an intuitive and modern digital menu interface for end customers to place orders easily.",
  "core_goals": [
    "Provide a secure and seamless authentication system for users including login, registration, and password recovery.",
    "Enable snack bar owners to manage their financials, clients, orders, and subscriptions through an intuitive Admin Dashboard.",
    "Offer customers a user-friendly digital menu for browsing products, adding orders with upsell suggestions, and checking out via WhatsApp.",
    "Enable payments via PIX integration with AbacatePay and Stripe, facilitating QR code generation for easy transactions.",
    "Support offline functionality by caching data locally and synchronizing when online to ensure uninterrupted service.",
    "Integrate communication channels like WhatsApp and Telegram as well as order printing for enhanced operational efficiency.",
    "Maintain a premium clean UI/UX design aesthetic that is mobile-first and adaptive to user-configured brand colors."
  ],
  "key_features": [
    "Authentication system with login, registration, password recovery and reset.",
    "Admin Dashboard featuring financial management, client management, subscription controls, and real-time sales analytics.",
    "Online Menu with product catalog, order system, and upsell (salesPrediction) suggestions.",
    "Pix Payment integration supporting QR code generation via AbacatePay and Stripe.",
    "Offline data storage and synchronization to support usage without internet connectivity.",
    "Integrated communication through WhatsApp and Telegram for order notifications, plus printing capabilities for orders.",
    "User and store customization options including branded colors, logos, and configurable menu settings.",
    "Order management with draggable Kanban status boards from pending to delivered, powered by @dnd-kit/core.",
    "Image upload with cropping and compression for product management in the menu.",
    "QR Code generation for tables or counters to access digital menus easily.",
    "Real-time order tracking and status updates using Supabase Realtime.",
    "Robust backend with Supabase ensuring data security via Row Level Security policies."
  ],
  "user_flow_summary": [
    "Customers access a public digital menu via a unique slug/link to view snacks, drinks, and desserts.",
    "Customers add items to the shopping cart and review totals including delivery fees.",
    "Upon checkout, the customer’s order details are formatted and sent via WhatsApp to the snack bar for order confirmation.",
    "Admin users log in using secure Supabase authentication and access their personalized Dashboard.",
    "Admins manage orders via a Kanban board with drag and drop to update order statuses from pending to delivered.",
    "Admins perform CRUD operations on menu categories and products including image uploads with cropping.",
    "Admins generate and distribute QR codes for menu access at physical locations (tables or counters).",
    "Payments are processed securely through PIX via AbacatePay and Stripe integrations with QR code support.",
    "Offline functionality allows customers and admins to continue order and data handling without internet, syncing automatically when online.",
    "Admins use charts to analyze daily and monthly sales data and monitor cash flow and client subscriptions."
  ],
  "validation_criteria": [
    "Authentication workflows must allow secure login, registration, password recovery, and prevent unauthorized data access using Supabase RLS.",
    "Admin Dashboard must present real-time accurate financial data, order status updates and support drag-and-drop interactions without lag.",
    "Menu CRUD operations must correctly save data with image uploads supporting cropping and compression.",
    "PIX payments must complete successfully through AbacatePay and Stripe APIs with QR codes generated and displayed correctly.",
    "Offline storage must cache data reliably and synchronize without data loss when internet connectivity is restored.",
    "Communication channels (WhatsApp, Telegram) integrations must send correct order notifications and support formatted messages.",
    "UI/UX must be fully responsive and adapt brand colors and logos as configured by the user.",
    "Order management status updates must reflect instantly for both admins and customers where optional order tracking is enabled.",
    "Security policies must enforce correct selectors and permissions on the database to ensure data privacy per user account.",
    "All core flows (ordering, payment, admin management) must be tested end-to-end for robustness and error-handling."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js",
      "Supabase",
      "Tailwind CSS",
      "Stripe",
      "AbacatePay",
      "Framer Motion"
    ],
    "features": [
      {
        "name": "Autenticação",
        "description": "Sistema de login, registro e recuperação de senha.",
        "files": [
          "src/app/login",
          "src/app/registro",
          "src/app/recuperar-senha",
          "src/app/redefinir-senha",
          "src/lib/supabase.ts"
        ]
      },
      {
        "name": "Dashboard Admin",
        "description": "Gestão financeira, clientes e controle de assinaturas.",
        "files": [
          "src/app/admin/dashboard",
          "src/app/admin/finance",
          "src/app/admin/clients",
          "src/components/admin"
        ]
      },
      {
        "name": "Cardápio Online",
        "description": "Catálogo de produtos, sistema de pedidos e venda sugestiva (upsell).",
        "files": [
          "src/app/menu",
          "src/components/menu",
          "src/lib/salesPrediction.ts"
        ]
      },
      {
        "name": "Pagamentos PIX",
        "description": "Integração com AbacatePay e Stripe para pagamentos via PIX e geração de QR code.",
        "files": [
          "src/lib/pix.ts",
          "src/lib/abacatepay.ts",
          "src/components/pix"
        ]
      },
      {
        "name": "Funcionalidade Offline",
        "description": "Armazenamento local e sincronização de dados offline.",
        "files": [
          "src/lib/offlineStorage.ts",
          "src/lib/offlineSync.ts"
        ]
      },
      {
        "name": "Comunicação e Impressão",
        "description": "Integração com WhatsApp, Telegram e sistema de impressão de pedidos.",
        "files": [
          "src/lib/whatsapp.ts",
          "src/lib/telegram.ts",
          "src/lib/print.ts"
        ]
      }
    ]
  }
}
